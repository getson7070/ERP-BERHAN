{% extends "base.html" %}
{% block title %}Orders{% endblock %}
{% block body %}
<div class="container py-5">
<div class="container mt-5">
        <h2>Orders</h2>
        <h4>Pending Orders</h4>
        {% if pending_orders %}
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Item ID</th>
                        <th>Quantity</th>
                        <th>Customer</th>
                        <th>Status</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    {% for order in pending_orders %}
                        <tr>
                            <td>{{ order['id'] }}</td>
                            <td>{{ order['item_id'] }}</td>
                            <td>{{ order['quantity'] }}</td>
                            <td>{{ order['customer'] }}</td>
                            <td>{{ order['status'] }}</td>
                            <td>
                                <a href="{{ url_for('approve_order', order_id=order['id']) }}" class="btn btn-success btn-sm">Approve</a>
                                <a href="{{ url_for('amend_order', order_id=order['id']) }}" class="btn btn-warning btn-sm">Amend</a>
                                <a href="{{ url_for('reject_order', order_id=order['id']) }}" class="btn btn-danger btn-sm">Reject</a>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>No pending orders found.</p>
        {% endif %}

        <h4>Approved Orders</h4>
        {% if approved_orders %}
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Item ID</th>
                        <th>Quantity</th>
                        <th>Customer</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    {% for order in approved_orders %}
                        <tr>
                            <td>{{ order['id'] }}</td>
                            <td>{{ order['item_id'] }}</td>
                            <td>{{ order['quantity'] }}</td>
                            <td>{{ order['customer'] }}</td>
                            <td>{{ order['status'] }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>No approved orders found.</p>
        {% endif %}

        <h4>Rejected Orders</h4>
        {% if rejected_orders %}
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Item ID</th>
                        <th>Quantity</th>
                        <th>Customer</th>
                        <th>Status</th>
                    </tr>
                </thead>
                <tbody>
                    {% for order in rejected_orders %}
                        <tr>
                            <td>{{ order['id'] }}</td>
                            <td>{{ order['item_id'] }}</td>
                            <td>{{ order['quantity'] }}</td>
                            <td>{{ order['customer'] }}</td>
                            <td>{{ order['status'] }}</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>No rejected orders found.</p>
        {% endif %}
        <a href="{{ url_for('dashboard') }}" class="btn btn-secondary">Back to Dashboard</a>
    </div>
</body>
</html>
